.framework {
    background: $primary;
    margin-bottom: 10px;

    & > .header {
        -webkit-app-region: drag;
        background-color: $primary;
        border-bottom: 1px solid $primary-border;
        position: sticky;
        top: 0;
        z-index: var(--framework-z-index);

        & > .title {

            .heading {
                font-size: 1.5rem;
                font-weight: var(--font-weight-bold);

                & > .name {
                    line-height: 1.2em;
                    padding-right: var(--spacing);
                    position: relative;
                    top: 2px;
                    word-break: break-word;
                }
            }
        }

        // First nugget has no top border.
        & + .nugget {

            & > .header {
                padding-top: 0;
            }
        }
    }

    .filters {
        padding: var(--spacing-half) var(--spacing) var(--spacing-half);

        .progress-breakdown {
            @include clearfix;

            .Label {
                display: block;
                float: left;
                padding: 3px 6px;
                margin: 0 var(--spacing-half) var(--spacing-half) 0;
            }
        }

        &.search {
            -webkit-app-region: no-drag !important;
            background-color: var(--color-gray-200);
            border-top: 1px solid var(--color-gray-400);
            box-shadow: 0 1px 0 0px var(--color-gray-500);
            padding-bottom: calc(var(--spacing-half) + 1px);

            input {
                box-shadow: none;
                color: var(--input-text-color);
                border-color: var(--color-gray-400);

                &:focus {
                    border-color: var(--color-blue-400);
                }
            }
        }
    }

    & > :last-child {

        &.is-collapsed {
            border-bottom: 1px solid $primary-border;
        }
    }

    & + .cutoff {
        animation: fade-in-top .4s forwards;
        text-align: center;

        & > div {
            background-color: $secondary;
            border: 1px solid var(--color-gray-400);
            box-shadow: 0 0 0 3px rgba(0, 0, 0, .02);
            display: inline-block;
            margin: var(--spacing) auto 0;
            padding: var(--spacing-half) var(--spacing);
            position: relative;
            z-index: 2;

            button {
                outline: 0;
            }
        }

        $height: 16px;
        $thickness: 110%; // increase to make the line thicker
        $offset: 4px;

        .zigzag {
            background-color: $secondary;
            display: block;
            height: $height;
            margin: -48px 0 0;
            position: relative;
            z-index: 1;

            &:before,
            &:after {
                content: '';
                display: block;
                left: 0;
                position: absolute;
                right: 0;
            }

            &:before {
                background: linear-gradient(-135deg, $primary-border ($height/2), transparent 0) 0 ($height/2), linear-gradient( 135deg, $primary-border ($height/2), transparent 0) 0 ($height/2);
                background-position: top left;
                background-repeat: repeat-x;
                background-size: $height $height;
                height: ($height - $offset);
                top: $thickness;
            }

            &:after {
                background: linear-gradient(-135deg, $secondary ($height/2), transparent 0) 0 ($height/2), linear-gradient( 135deg, $secondary ($height/2), transparent 0) 0 ($height/2);
                background-position: top left;
                background-repeat: repeat-x;
                background-size: $height $height;
                height: $height;
                top: 100%;
            }
        }
    }
}
